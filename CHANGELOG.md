# dbt-snowflake Changelog

- This file provides a full account of all changes to `dbt-snowflake`.
- Changes are listed under the (pre)release in which they first appear. Subsequent releases include changes from previous releases.
- "Breaking changes" listed under a version may require action from end users or external maintainers when upgrading to that version.
- Do not edit this file directly. This file is auto-generated using [changie](https://github.com/miniscruff/changie). For details on how to document a change, see [the contributing guide](https://github.com/dbt-labs/dbt-snowflake/blob/main/CONTRIBUTING.md#adding-changelog-entry)

## dbt-snowflake 1.4.2 - March 16, 2023

### Features

- Support Python 3.11 ([#331](https://github.com/dbt-labs/dbt-snowflake/issues/331))

### Fixes

- Raise warning (not error) for custom code with isolated BEGIN; or COMMIT; statements ([#388](https://github.com/dbt-labs/dbt-snowflake/issues/388))

### Dependencies

- Removed explicit dependencies for cryptography and requests ([#476](https://github.com/dbt-labs/dbt-snowflake/pull/476))

### Security

- Update `snowflake-connector-python` to 3.0 to address CVE-2022-42965 ([#476](https://github.com/dbt-labs/dbt-snowflake/pull/476))

### Contributors
- [@dataders](https://github.com/dataders) ([#331](https://github.com/dbt-labs/dbt-spark/issues/331))
- [@dbeatty10](https://github.com/dbeatty10) ([#476](https://github.com/dbt-labs/dbt-snowflake/pull/476))
- [@joshuataylor](https://github.com/joshuataylor) ([#331](https://github.com/dbt-labs/dbt-spark/issues/331))
- [@mikealfare](https://github.com/mikealfare) ([#331](https://github.com/dbt-labs/dbt-spark/issues/331), [#476](https://github.com/dbt-labs/dbt-snowflake/pull/476), [#476](https://github.com/dbt-labs/dbt-snowflake/pull/476))


## dbt-snowflake 1.4.1 - February 08, 2023

### Under the Hood

- enable snowpark product team to attribute usage to dbt ([#374](https://github.com/dbt-labs/dbt-snowflake/issues/374))

### Contributors
- [@dataders](https://github.com/dataders) ([#374](https://github.com/dbt-labs/dbt-spark/issues/374))

## dbt-snowflake 1.4.0 - January 25, 2023
### Features
- change when query_tag is set to cut down number of connections needed to increase performance at long distances to conversation with databases ([#199](https://github.com/dbt-labs/dbt-snowflake/issues/199), [#294](https://github.com/dbt-labs/dbt-snowflake/pull/294))
- incremental predicates support ([#5680](https://github.com/dbt-labs/dbt-snowflake/issues/5680), [#310](https://github.com/dbt-labs/dbt-snowflake/pull/310))
- change to anonymous sprocs as the default ([#305](https://github.com/dbt-labs/dbt-snowflake/issues/305), [#334](https://github.com/dbt-labs/dbt-snowflake/pull/334))
- add back optional old uses of temp tables for incremental models in snowflake for perf increase in some cases ([#323](https://github.com/dbt-labs/dbt-snowflake/issues/323), [#389](https://github.com/dbt-labs/dbt-snowflake/pull/389))
### Fixes
- Update the Makefile command for `dev` ([#340](https://github.com/dbt-labs/dbt-snowflake/issues/340), [#349](https://github.com/dbt-labs/dbt-snowflake/pull/349))
- change quote policy dataclass field to conform to 3.11 typing ([#351](https://github.com/dbt-labs/dbt-snowflake/issues/351), [#350](https://github.com/dbt-labs/dbt-snowflake/pull/350))
- Comment appropriate lines in `test.env.example` ([#364](https://github.com/dbt-labs/dbt-snowflake/issues/364), [#364](https://github.com/dbt-labs/dbt-snowflake/pull/364))
- Incremental models that use temporary tables can no longer collide. ([#306](https://github.com/dbt-labs/dbt-snowflake/issues/306), [#379](https://github.com/dbt-labs/dbt-snowflake/pull/379))
### Under the Hood
- Strip sensitive data from Snowflake merge failure error messages ([#123](https://github.com/dbt-labs/dbt-snowflake/issues/123), [#271](https://github.com/dbt-labs/dbt-snowflake/pull/271))
- changing python_model test configs to take into account swap for anonymous_sproc as new default ([#305](https://github.com/dbt-labs/dbt-snowflake/issues/305), [#337](https://github.com/dbt-labs/dbt-snowflake/pull/337))
- Bump upper bound on `cryptography` to `<39.0.0` ([#359](https://github.com/dbt-labs/dbt-snowflake/issues/359), [#359](https://github.com/dbt-labs/dbt-snowflake/pull/359))
- Consistent capitalization for `CONTRIBUTING.md` ([#368](https://github.com/dbt-labs/dbt-snowflake/issues/368), [#368](https://github.com/dbt-labs/dbt-snowflake/pull/368))
- rollback snowflake-connector-python to 2.8.1 to fix testing hangup. ([#311](https://github.com/dbt-labs/dbt-snowflake/issues/311), [#372](https://github.com/dbt-labs/dbt-snowflake/pull/372))
- Update exceptions to match dbt-core naming. ([#366](https://github.com/dbt-labs/dbt-snowflake/issues/366), [#384](https://github.com/dbt-labs/dbt-snowflake/pull/384))
- Enable a `tmp_relation_type` config for applicable incremental models ([#402](https://github.com/dbt-labs/dbt-snowflake/issues/402), [#403](https://github.com/dbt-labs/dbt-snowflake/pull/403))
### Feature
- Migrate dbt-utils current_timestamp macros into core + adapters ([#276](https://github.com/dbt-labs/dbt-snowflake/issues/276), [#273](https://github.com/dbt-labs/dbt-snowflake/pull/273))
### Dependency
- Bump SCP upper bound to <2.9 ([#216](https://github.com/dbt-labs/dbt-snowflake/issues/216), [#280](https://github.com/dbt-labs/dbt-snowflake/pull/280))

### Contributors
- [@b-per](https://github.com/b-per) ([#349](https://github.com/dbt-labs/dbt-snowflake/pull/349))
- [@dave-connors-3](https://github.com/dave-connors-3) ([#310](https://github.com/dbt-labs/dbt-snowflake/pull/310))
- [@dbeatty10](https://github.com/dbeatty10) ([#389](https://github.com/dbt-labs/dbt-snowflake/pull/389), [#364](https://github.com/dbt-labs/dbt-snowflake/pull/364), [#359](https://github.com/dbt-labs/dbt-snowflake/pull/359), [#368](https://github.com/dbt-labs/dbt-snowflake/pull/368), [#403](https://github.com/dbt-labs/dbt-snowflake/pull/403))
- [@joshuataylor](https://github.com/joshuataylor) ([#294](https://github.com/dbt-labs/dbt-snowflake/pull/294))
- [@verhey](https://github.com/verhey) ([#271](https://github.com/dbt-labs/dbt-snowflake/pull/271))

## Previous Releases
For information on prior major and minor releases, see their changelogs:
- [1.3](https://github.com/dbt-labs/dbt-snowflake/blob/1.3.latest/CHANGELOG.md)
- [1.2](https://github.com/dbt-labs/dbt-snowflake/blob/1.2.latest/CHANGELOG.md)
- [1.1](https://github.com/dbt-labs/dbt-snowflake/blob/1.1.latest/CHANGELOG.md)
- [1.0](https://github.com/dbt-labs/dbt-snowflake/blob/1.0.latest/CHANGELOG.md)
