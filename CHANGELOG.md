# dbt-snowflake Changelog

- This file provides a full account of all changes to `dbt-snowflake`.
- Changes are listed under the (pre)release in which they first appear. Subsequent releases include changes from previous releases.
- "Breaking changes" listed under a version may require action from end users or external maintainers when upgrading to that version.
- Do not edit this file directly. This file is auto-generated using [changie](https://github.com/miniscruff/changie). For details on how to document a change, see [the contributing guide](https://github.com/dbt-labs/dbt-snowflake/blob/main/CONTRIBUTING.md#adding-changelog-entry)

## dbt-snowflake 1.5.0-b3 - March 16, 2023

### Features

- Support Python 3.11 ([#331](https://github.com/dbt-labs/dbt-snowflake/issues/331))
- Enforce contracts on models materialized as tables and views ([#464](https://github.com/dbt-labs/dbt-snowflake/issues/464), [#490](https://github.com/dbt-labs/dbt-snowflake/issues/490))
- take over pr:103 to allow Macro for custom warehouse selection ([#438](https://github.com/dbt-labs/dbt-snowflake/issues/438))

### Fixes

- Adds `query_tag` to the tuple returned by SnowflakeCredentials._connection_keys() ([#251](https://github.com/dbt-labs/dbt-snowflake/issues/251))
- Raise warning (not error) for custom code with isolated BEGIN; or COMMIT; statements ([#388](https://github.com/dbt-labs/dbt-snowflake/issues/388))

### Under the Hood

- Replace deprecated `set-output` command in GitHub workflows ([#302](https://github.com/dbt-labs/dbt-snowflake/issues/302))

### Dependencies

- Removed explicit dependencies for cryptography and requests ([#476](https://github.com/dbt-labs/dbt-snowflake/pull/476))

### Security

- Update `snowflake-connector-python` to 3.0 to address CVE-2022-42965 ([#476](https://github.com/dbt-labs/dbt-snowflake/pull/476))

### Contributors
- [@dataders](https://github.com/dataders) ([#331](https://github.com/dbt-labs/dbt-spark/issues/331))
- [@javiCalvo](https://github.com/javiCalvo) ([#438](https://github.com/dbt-labs/dbt-spark/issues/438))
- [@joshuataylor](https://github.com/joshuataylor) ([#331](https://github.com/dbt-labs/dbt-spark/issues/331))
- [@kevinneville](https://github.com/kevinneville) ([#302](https://github.com/dbt-labs/dbt-spark/issues/302))
- [@surbias](https://github.com/surbias) ([#251](https://github.com/dbt-labs/dbt-spark/issues/251))


## dbt-snowflake 1.5.0-b2 - March 02, 2023

### Features

- Added ability to configure key-pair authentication with a private key stored in an environment variable ([#291](https://github.com/dbt-labs/dbt-snowflake/issues/291))

### Fixes

- Fix unset query tag in view materialization ([#456](https://github.com/dbt-labs/dbt-snowflake/issues/456))

### Under the Hood

- Rename constraints_enabled to contract ([#479](https://github.com/dbt-labs/dbt-snowflake/issues/479))

### Contributors
- [@NiallRees](https://github.com/NiallRees) ([#456](https://github.com/dbt-labs/dbt-spark/issues/456))
- [@jayhale](https://github.com/jayhale) ([#291](https://github.com/dbt-labs/dbt-spark/issues/291))

## dbt-snowflake 1.5.0-b1 - February 22, 2023

### Features

- Support for data types constraints in Snowflake following the dbt Core feature #6271 ([#365](https://github.com/dbt-labs/dbt-snowflake/issues/365))
- add back optional old uses of temp tables for incremental models in snowflake for perf increase in some cases ([#323](https://github.com/dbt-labs/dbt-snowflake/issues/323))
- Add configurable setting for keeping connections open on Snowflake ([#201](https://github.com/dbt-labs/dbt-snowflake/issues/201))

### Fixes

- Remove dead code related to dbt.contracts.graph.parsed ([#344](https://github.com/dbt-labs/dbt-snowflake/issues/344))
- Respect quoting config in dbt-py models ([#330](https://github.com/dbt-labs/dbt-snowflake/issues/330))
- add adapter zone test for merge_exclude_columns ([#410](https://github.com/dbt-labs/dbt-snowflake/issues/410))
- Fix a minor typo in the user message for too many objects in a schema ([#443](https://github.com/dbt-labs/dbt-snowflake/issues/443))

### Under the Hood

- Enable a `tmp_relation_type` config for applicable incremental models ([#402](https://github.com/dbt-labs/dbt-snowflake/issues/402))
- enable snowpark product team to attribute usage to dbt ([#374](https://github.com/dbt-labs/dbt-snowflake/issues/374))
- remove tox call to integration tests ([#382](https://github.com/dbt-labs/dbt-snowflake/issues/382))

### Dependencies

- Updates cryptography dependency to be <40.0.0 ([#466](https://github.com/dbt-labs/dbt-snowflake/pull/466))
- Increasing mypy cap to 1.0.0 ([#452](https://github.com/dbt-labs/dbt-snowflake/pull/452))
- Bump black to 23.1.0 ([#432](https://github.com/dbt-labs/dbt-snowflake/pull/432))

### Contributors
- [@b-per](https://github.com/b-per) ([#365](https://github.com/dbt-labs/dbt-spark/issues/365))
- [@dataders](https://github.com/dataders) ([#374](https://github.com/dbt-labs/dbt-spark/issues/374))
- [@dave-connors-3](https://github.com/dave-connors-3) ([#410](https://github.com/dbt-labs/dbt-spark/issues/410))
- [@goFrendiAsgard](https://github.com/goFrendiAsgard) ([#443](https://github.com/dbt-labs/dbt-spark/issues/443))
- [@joshuataylor](https://github.com/joshuataylor) ([#201](https://github.com/dbt-labs/dbt-spark/issues/201))
- [@kadekillary](https://github.com/kadekillary) ([#344](https://github.com/dbt-labs/dbt-spark/issues/344))
- [@surbias](https://github.com/surbias) ([#466](https://github.com/dbt-labs/dbt-snowflake/pull/466))

## Previous Releases
For information on prior major and minor releases, see their changelogs:
- [1.4](https://github.com/dbt-labs/dbt-snowflake/blob/1.4.latest/CHANGELOG.md)
- [1.3](https://github.com/dbt-labs/dbt-snowflake/blob/1.3.latest/CHANGELOG.md)
- [1.2](https://github.com/dbt-labs/dbt-snowflake/blob/1.2.latest/CHANGELOG.md)
- [1.1](https://github.com/dbt-labs/dbt-snowflake/blob/1.1.latest/CHANGELOG.md)
- [1.0](https://github.com/dbt-labs/dbt-snowflake/blob/1.0.latest/CHANGELOG.md)
